<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>eFootball 育成ツール</title>

<style>
body {
  font-family: sans-serif;
  text-align: center;
  background: #f4f4f4;
  margin: 0;
  padding: 20px;
}

.container {
  max-width: 600px;
  margin: auto;
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

h1 {
  margin-bottom: 20px;
}

button {
  padding: 5px 10px;
  margin: 2px;
  cursor: pointer;
}

.stat-row {
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 5px 0;
}

.stat-row span {
  width: 120px;
  display: inline-block;
  text-align: right;
  margin-right: 10px;
}

.points {
  font-weight: bold;
  margin: 10px 0;
}

.reset-btn {
  margin-top: 15px;
  padding: 8px 15px;
  background: #ff4d4d;
  color: white;
  border: none;
  border-radius: 5px;
}
</style>
</head>

<body>
<div class="container">
<h1>eFootball 育成ツール</h1>

<label>レベル:
<input type="number" id="level" value="1" min="1" max="100" onchange="updatePoints()">
</label>

<div class="points">
残りタレントポイント: <span id="remaining">0</span>
</div>

<h2>項目振り分け</h2>
<div id="stats"></div>

<button class="reset-btn" onclick="resetAll()">パラメータリセット</button>
</div>

<script>
const statsData = [
  {name: "決定力", base: 79},
  {name: "プレースキック", base: 83},
  {name: "カーブ", base: 70},
  {name: "グラウンダーパス", base: 75},
  {name: "フライパス", base: 74}
];

let allocated = Array(statsData.length).fill(0);

function getTotalPoints(level){
  return level * 2; // 仮ポイント計算
}

function updatePoints(){
  const level = parseInt(document.getElementById("level").value);
  const total = getTotalPoints(level);
  const used = allocated.reduce((a,b)=>a+b,0);
  document.getElementById("remaining").textContent = total - used;
}

function changeStat(index, amount){
  const level = parseInt(document.getElementById("level").value);
  const total = getTotalPoints(level);
  const used = allocated.reduce((a,b)=>a+b,0);

  if(amount > 0 && used >= total) return;
  if(allocated[index] + amount < 0) return;

  allocated[index] += amount;
  render();
  updatePoints();
}

function resetAll(){
  allocated = Array(statsData.length).fill(0);
  render();
  updatePoints();
}

function render(){
  const container = document.getElementById("stats");
  container.innerHTML = "";

  statsData.forEach((stat, i)=>{
    const row = document.createElement("div");
    row.className = "stat-row";

    const label = document.createElement("span");
    label.textContent = stat.name;

    const minus = document.createElement("button");
    minus.textContent = "-";
    minus.onclick = ()=>changeStat(i,-1);

    const value = document.createElement("span");
    value.textContent = stat.base + allocated[i];

    const plus = document.createElement("button");
    plus.textContent = "+";
    plus.onclick = ()=>changeStat(i,1);

    row.appendChild(label);
    row.appendChild(minus);
    row.appendChild(value);
    row.appendChild(plus);

    container.appendChild(row);
  });
}

render();
updatePoints();
</script>
</body>
</html>
